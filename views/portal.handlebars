<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script crossorigin src="https://unpkg.com/react@15/dist/react.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@15/dist/react-dom.min.js"></script>
    <script crossorigin src="https://unpkg.com/prop-types/prop-types.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.34/browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/remarkable/1.6.2/remarkable.min.js"></script>
    <link rel="shortcut icon" href="/assets/img/favicon.png"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.blue_grey-deep_purple.min.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <link rel="stylesheet" href="/assets/style.css">
    <title>RMII - P2 - Portal</title>
</head>
<body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer">
        <div class="mdl-layout__drawer">
            <span class="mdl-layout-title">G-Link</span>
            <nav class="mdl-navigation">
                {{#if navlinks}}
                    {{#each navlinks}}
                        <a class="mdl-navigation__link" href={{this.href}}>{{this.text}}</a>
                    {{/each}}
                {{/if}}
                <!--a class="mdl-navigation__link" href="">A</a>
                <a class="mdl-navigation__link" href="">B</a>
                <a class="mdl-navigation__link" href="">C</a>
                <a class="mdl-navigation__link" href="">D</a-->
            </nav>
        </div>
        <main class="mdl-layout__content">
            <div class="page-content">
                <div class="mdl-grid">
                    <div class="mdl-cell--12-col">
                        <h1>Welcome, {{username}}</h1>
                    </div>
                    {{#unless premium}}
                    <div class="mdl-cell--12-col ad-bar text-center">
                        <h3>This is an ad</h3>
                    </div>
                    {{/unless}}
                    <div class="mdl-grid mdl-cell--12-col outline-red">
                        
                        <div class="mdl-cell--6-col mdl-grid outline-red">
                            <div class="mdl-cell--12-col mdl-grid">
                                <h4>My Games</h4>
                            </div>
                            
                            <div class="mdl-cell--12-col mdl-grid">
                                {{#if games}}
                                    {{#each games}}
                                        <div class="game-card small-margin" name-prop={{this.name}} link-prop={{this.link}} ></div>
                                    {{/each}}
                                {{/if}}
                                <div class="small-margin">
                                    <div class="demo-card-square mdl-card mdl-shadow--2dp small-width">
                                        <div class="mdl-card__title mdl-card--expand">
                                            <h2 class="mdl-card__title-text">Add Game</h2>
                                        </div>
                                        <div class="mdl-card__supporting-text">
                                            <div>
                                                <form id="addGame" action="/addGame" method="POST" >
                                                    <select name="name">
                                                        <option value="Rocket League">Rocket League</option>
                                                        <option value="League of Legends">League of Legends</option>
                                                        <option value="Rainbow 6: Siege">Rainbow 6: Siege</option>
                                                        <option value="CS:GO">CS:GO</option>
                                                    </select>
                                                    <input type="text" name="link" placeholder="Link to Profile" />
                                                    <input type="hidden" name="_csrf" value={{csrfToken}} />
                                                    <input type="submit" value="Add!" />
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mdl-cell--4-col outline-red small-margin">
                            <h4>Friends List</h4>
                            <ul class="mdl-list">
                                {{#if friends}}
                                    {{#each friends}}
                                        <section class="friendsLi" name-prop={{this.name}}></section>
                                    {{/each}}
                                {{/if}}
                            </ul>
                            <div class="addFriend">
                                <form id="friendForm" action="/addFriend" method="POST" class="outline-black">
                                    <div>
                                        <input type="text" name="username" placeholder="Username" />
                                        <input type="hidden" name="_csrf" value={{csrfToken}} />
                                        <input type="submit" value="Add!" />
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="mdl-cell--12-col mdl-grid">
                        
                    </div>
                </div>
            </div>
        </main>
    </div>
</body>
<script src="/assets/portalBundle.js"></script>
</html>